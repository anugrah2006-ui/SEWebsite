(function(d,E){"use strict";var a={widgetsTypes:{},createWidgetType:function(n,t,i){i||(i=this.Widget);var l=function(){i.apply(this,arguments)},s=l.prototype=new i(n);return s.types=s.types.concat([n]),d.extend(s,t),s.constructor=l,l.extend=function(g,h){return a.createWidgetType(g,h,l)},l},addWidgetType:function(n,t,i){return t&&t.prototype instanceof this.Widget?this.widgetsTypes[n]=t:this.widgetsTypes[n]=this.createWidgetType(n,t,i)},getWidgetType:function(n){return this.widgetsTypes[n]}};a.Instance=function(){var n=this,t={},i={};n.openDialogs=[];var l=function(s){d.extend(i,{classPrefix:"dialog",effects:{show:"fadeIn",hide:"fadeOut"}},s)};this.createWidget=function(s,g){var h=new(a.getWidgetType(s))(s);return g=g||{},h.init(n,g),h},this.getSettings=function(s){return s?i[s]:Object.create(i)},this.maybeLoadAssets=async function(){var s,g;if((g=(s=window.elementorFrontend)==null?void 0:s.utils)!=null&&g.assetsLoader)try{await elementorFrontend.utils.assetsLoader.load("style","dialog")}catch(h){console.error("Failed to load assets:",h)}},this.init=function(s){return this.maybeLoadAssets(),l(s),t.body=d("body"),n},n.init()},a.Widget=function(n){var t=this,i={},l={},s={},g=0,h=["refreshPosition"],v=function(e,o){var r=i.effects[e],c=s.widget;if(typeof r=="function")r.apply(c,o);else{if(!c[r])throw"Reference Error: The effect "+r+" not found";c[r].apply(c,o)}},w=function(e){if(!b(e)){if(i.hide.onClick){if(d(e.target).closest(i.selectors.preventClose).length)return}else if(e.target!==this)return;t.hide()}},y=function(e){b(e)||d(e.target).closest(s.widget).length||function(o){return!!i.hide.ignore&&!!d(o.target).closest(i.hide.ignore).length}(e)||t.hide()},C=function(){d.each(i,function(e){var o=e.match(/^on([A-Z].*)/);o&&(o=o[1].charAt(0).toLowerCase()+o[1].slice(1),t.on(o,this))})},b=function(e){return e.type==="click"&&e.button===2},W=function(e){e.which===27&&t.hide()},x=function(){var e=[s.window];s.iframe&&e.push(jQuery(s.iframe[0].contentWindow)),e.forEach(function(o){i.hide.onEscKeyPress&&o.off("keyup",W),i.hide.onOutsideClick&&o[0].removeEventListener("click",y,!0),i.hide.onOutsideContextMenu&&o[0].removeEventListener("contextmenu",y,!0),i.position.autoRefresh&&o.off("resize",t.refreshPosition)}),(i.hide.onClick||i.hide.onBackgroundClick)&&s.widget.off("click",w)};this.addElement=function(e,o,r){var c=s[e]=d(o||"<div>"),f=function(u){return u.replace(/([a-z])([A-Z])/g,function(){return arguments[1]+"-"+arguments[2].toLowerCase()})}(e);return r=r?r+" ":"",r+=i.classes.globalPrefix+"-"+f,r+=" "+i.classes.prefix+"-"+f,c.addClass(r),c},this.destroy=function(){var e;const o=(e=t.getElements("widget"))==null?void 0:e.attr("id"),r=t.parent.openDialogs.lastIndexOf(o);return r!==-1&&t.parent.openDialogs.splice(r,1),x(),s.widget.remove(),t.trigger("destroy"),t},this.getElements=function(e){return e?s[e]:s},this.getSettings=function(e){var o=Object.create(i);return e?o[e]:o},this.hide=function(){var e;if(!t.isVisible())return;const o=(e=t.getElements("widget"))==null?void 0:e.attr("id"),r=t.parent.openDialogs;return r[r.length-1]===o?(r.pop(),clearTimeout(g),v("hide",arguments),x(),i.preventScroll&&t.getElements("body").removeClass(i.classes.preventScroll),t.trigger("hide"),t):void 0},this.init=function(e,o){if(!(e instanceof a.Instance))throw"The "+t.widgetName+" must to be initialized from an instance of DialogsManager.Instance";var r;return t.parent=e,r=h.concat(t.getClosureMethods()),d.each(r,function(){var c=t[this];t[this]=function(){c.apply(t,arguments)}}),t.trigger("init",o),function(c,f){var u=d.extend(!0,{},c.getSettings());i={headerMessage:"",message:"",effects:u.effects,classes:{globalPrefix:u.classPrefix,prefix:u.classPrefix+"-"+n,preventScroll:u.classPrefix+"-prevent-scroll"},selectors:{preventClose:"."+u.classPrefix+"-prevent-close"},container:"body",preventScroll:!1,iframe:null,closeButton:!1,closeButtonOptions:{iconClass:u.classPrefix+"-close-button-icon",attributes:{role:"button",tabindex:0,"aria-label":"Close",href:"#"},iconElement:"<i>"},position:{element:"widget",my:"center",at:"center",enable:!0,autoRefresh:!1},hide:{auto:!1,autoDelay:5e3,onClick:!1,onOutsideClick:!0,onOutsideContextMenu:!1,onBackgroundClick:!0,onEscKeyPress:!0,ignore:""}},d.extend(!0,i,t.getDefaultSettings(),f),C()}(e,o),function(){if(t.addElement("widget"),t.addElement("header"),t.addElement("message"),t.addElement("window",window),t.addElement("body",document.body),t.addElement("container",i.container),i.iframe&&t.addElement("iframe",i.iframe),i.closeButton){i.closeButtonClass&&(i.closeButtonOptions.iconClass=i.closeButtonClass);const u=d("<a>",i.closeButtonOptions.attributes),m=d(i.closeButtonOptions.iconElement).addClass(i.closeButtonOptions.iconClass);u.append(m),t.addElement("closeButton",u)}var c=t.getSettings("id");c&&t.setID(c);var f=[];d.each(t.types,function(){f.push(i.classes.globalPrefix+"-type-"+this)}),f.push(t.getSettings("className")),s.widget.addClass(f.join(" ")).attr({"aria-modal":!0,role:"document",tabindex:0})}(),t.buildWidget(),t.attachEvents(),t.trigger("ready"),t},this.isVisible=function(){return s.widget.is(":visible")},this.on=function(e,o){return typeof e=="object"?(d.each(e,function(r){t.on(r,this)}),t):(e.split(" ").forEach(function(r){l[r]||(l[r]=[]),l[r].push(o)}),t)},this.off=function(e,o){if(!l[e])return t;if(!o)return delete l[e],t;var r=l[e].indexOf(o);return r!==-1&&l[e].splice(r,1),t},this.refreshPosition=function(){if(i.position.enable){var e=d.extend({},i.position);s[e.of]&&(e.of=s[e.of]),e.of||(e.of=window),i.iframe&&function(o){if(o.my){var r=/([+-]\d+)?$/,c=s.iframe.offset(),f=s.iframe[0].contentWindow,u=o.my.split(" "),m=[];u.length===1&&(/left|right/.test(u[0])?u.push("center"):u.unshift("center")),u.forEach(function(k,B){var S=k.replace(r,function(p){return p=+p||0,(p+=B?c.top-f.scrollY:c.left-f.scrollX)>=0&&(p="+"+p),p});m.push(S)}),o.my=m.join(" ")}}(e),s[e.element].position(e)}},this.setID=function(e){return s.widget.attr("id",e),t},this.setHeaderMessage=function(e){return t.getElements("header").html(e),t},this.setMessage=function(e){return s.message.html(e),t},this.setSettings=function(e,o){return jQuery.isPlainObject(o)?d.extend(!0,i[e],o):i[e]=o,t},this.show=function(){var e,o;clearTimeout(g),s.widget.appendTo(s.container).hide(),v("show",arguments),t.refreshPosition(),i.hide.auto&&(g=setTimeout(t.hide,i.hide.autoDelay)),o=[s.window],s.iframe&&o.push(jQuery(s.iframe[0].contentWindow)),o.forEach(function(c){i.hide.onEscKeyPress&&c.on("keyup",W),i.hide.onOutsideClick&&c[0].addEventListener("click",y,!0),i.hide.onOutsideContextMenu&&c[0].addEventListener("contextmenu",y,!0),i.position.autoRefresh&&c.on("resize",t.refreshPosition)}),(i.hide.onClick||i.hide.onBackgroundClick)&&s.widget.on("click",w),i.preventScroll&&t.getElements("body").addClass(i.classes.preventScroll),t.trigger("show");const r=(e=t.getElements("widget"))==null?void 0:e.attr("id");return t.parent.openDialogs.push(r),t},this.trigger=function(e,o){var r="on"+e[0].toUpperCase()+e.slice(1);t[r]&&t[r](o);var c=l[e];if(c)return d.each(c,function(f,u){u.call(t,o)}),t}},a.Widget.prototype.types=[],a.Widget.prototype.buildWidget=function(){var n=this.getElements(),t=this.getSettings();n.widget.append(n.header,n.message),this.setHeaderMessage(t.headerMessage),this.setMessage(t.message),this.getSettings("closeButton")&&n.widget.prepend(n.closeButton)},a.Widget.prototype.attachEvents=function(){var n=this;n.getSettings("closeButton")&&n.getElements("closeButton").on("click",function(t){t.preventDefault(),n.hide()})},a.Widget.prototype.getDefaultSettings=function(){return{}},a.Widget.prototype.getClosureMethods=function(){return[]},a.Widget.prototype.onHide=function(){},a.Widget.prototype.onShow=function(){},a.Widget.prototype.onInit=function(){},a.Widget.prototype.onReady=function(){},a.widgetsTypes.simple=a.Widget,a.addWidgetType("buttons",{activeKeyUp:function(n){n.which===9&&n.preventDefault(),this.hotKeys[n.which]&&this.hotKeys[n.which](this)},activeKeyDown:function(n){if(this.focusedButton&&n.which===9){n.preventDefault();var t,i=this.focusedButton.index();n.shiftKey?(t=i-1)<0&&(t=this.buttons.length-1):(t=i+1)>=this.buttons.length&&(t=0),this.focusedButton=this.buttons[t].trigger("focus")}},addButton:function(n){var t=this,i=t.getSettings(),l=jQuery.extend(i.button,n),s=n.classes?n.classes+" ":"";s+=i.classes.globalPrefix+"-button";var g=t.addElement(n.name,d("<"+l.tag+">").html(n.text),s);t.buttons.push(g);var h=function(){i.hide.onButtonClick&&t.hide(),typeof n.callback=="function"&&n.callback.call(this,t)};return g.on("click",h),n.hotKey&&(this.hotKeys[n.hotKey]=h),this.getElements("buttonsWrapper").append(g),n.focus&&(this.focusedButton=g),t},bindHotKeys:function(){this.getElements("window").on({keyup:this.activeKeyUp,keydown:this.activeKeyDown})},buildWidget:function(){a.Widget.prototype.buildWidget.apply(this,arguments);var n=this.addElement("buttonsWrapper");this.getElements("widget").append(n)},getClosureMethods:function(){return["activeKeyUp","activeKeyDown"]},getDefaultSettings:function(){return{hide:{onButtonClick:!0},button:{tag:"button"}}},onHide:function(){this.unbindHotKeys()},onInit:function(){this.buttons=[],this.hotKeys={},this.focusedButton=null},onShow:function(){this.bindHotKeys(),this.focusedButton||(this.focusedButton=this.buttons[0]),this.focusedButton&&this.focusedButton.trigger("focus")},unbindHotKeys:function(){this.getElements("window").off({keyup:this.activeKeyUp,keydown:this.activeKeyDown})}}),a.addWidgetType("lightbox",a.getWidgetType("buttons").extend("lightbox",{getDefaultSettings:function(){var n=a.getWidgetType("buttons").prototype.getDefaultSettings.apply(this,arguments);return d.extend(!0,n,{contentWidth:"auto",contentHeight:"auto",position:{element:"widgetContent",of:"widget",autoRefresh:!0}})},buildWidget:function(){a.getWidgetType("buttons").prototype.buildWidget.apply(this,arguments);var n=this.addElement("widgetContent"),t=this.getElements();n.append(t.header,t.message,t.buttonsWrapper),t.widget.html(n),t.closeButton&&n.prepend(t.closeButton)},onReady:function(){var n=this.getElements(),t=this.getSettings();t.contentWidth!=="auto"&&n.message.width(t.contentWidth),t.contentHeight!=="auto"&&n.message.height(t.contentHeight)}})),a.addWidgetType("confirm",a.getWidgetType("lightbox").extend("confirm",{onReady:function(){a.getWidgetType("lightbox").prototype.onReady.apply(this,arguments);var n=this.getSettings("strings"),t=this.getSettings("defaultOption")==="cancel";this.addButton({name:"cancel",text:n.cancel,callback:function(i){i.trigger("cancel")},focus:t}),this.addButton({name:"ok",text:n.confirm,callback:function(i){i.trigger("confirm")},focus:!t})},getDefaultSettings:function(){var n=a.getWidgetType("lightbox").prototype.getDefaultSettings.apply(this,arguments);return n.strings={confirm:"OK",cancel:"Cancel"},n.defaultOption="cancel",n}})),a.addWidgetType("alert",a.getWidgetType("lightbox").extend("alert",{onReady:function(){a.getWidgetType("lightbox").prototype.onReady.apply(this,arguments);var n=this.getSettings("strings");this.addButton({name:"ok",text:n.confirm,callback:function(t){t.trigger("confirm")}})},getDefaultSettings:function(){var n=a.getWidgetType("lightbox").prototype.getDefaultSettings.apply(this,arguments);return n.strings={confirm:"OK"},n}})),E.DialogsManager=a})(typeof jQuery!="undefined"?jQuery:typeof require=="function"&&require("jquery"),typeof module!="undefined"&&module.exports!==void 0?module.exports:window);
