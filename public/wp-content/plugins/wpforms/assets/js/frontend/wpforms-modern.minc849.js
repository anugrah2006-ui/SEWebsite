var WPForms=window.WPForms||{};WPForms.FrontendModern=WPForms.FrontendModern||function(d,n){const t={init(){n(t.ready),t.bindOptinMonster()},ready(){t.updateGBBlockAccentColors(),t.initPageBreakButtons(),t.initButtonStyle(),t.events()},events(){n(d).on("wpforms_elementor_form_fields_initialized",t.initPageBreakButtons),n("form.wpforms-form").on("wpformsCombinedUploadsSizeError",t.combinedUploadsSizeError).on("wpformsFormSubmitButtonDisable",t.formSubmitButtonDisable).on("wpformsFormSubmitButtonRestore",t.formSubmitButtonRestore).on("wpformsPageChange",t.pageChange),n("form.wpforms-form .wpforms-submit").on("keydown click",t.disabledButtonPress),n(d).on("focus",".wpforms-render-modern .wpforms-timepicker",t.updateTimepickerDropdown),n(d).on("focusout",".wpforms-render-modern .wpforms-timepicker",t.resetTimepickerDropdown)},bindOptinMonster(){d.addEventListener("om.Campaign.load",function(){t.ready()}),n(d).on("OptinMonsterOnShow",function(){t.ready()})},updateTimepickerDropdown(){const e=t.getCssVars(n(this));setTimeout(function(){var r=n(".ui-timepicker-wrapper .ui-timepicker-list");r.css("background",e["field-menu-color"]),r.find("li").css("color",e["field-text-color"]),r.find(".ui-timepicker-selected").css("background",e["button-background-color"]).css("color",e["button-text-color"])},0)},resetTimepickerDropdown(){setTimeout(function(){n(".ui-timepicker-wrapper .ui-timepicker-list").find(":not(.ui-timepicker-selected)").attr("style","")},0)},initButtonStyle(){n(".wpforms-block.wpforms-container-full, .elementor-widget-wpforms .wpforms-container-full").each(function(){var e=n(this),r=getComputedStyle(e.get(0)),r=t.getCssVar(r,"--wpforms-button-background-color-alt");t.isTransparentColor(r)&&e.find("button.wpforms-submit").addClass("wpforms-opacity-hover")})},isTransparentColor(e){return e=t.getColorAsRGBArray(e),Number(e==null?void 0:e[3])<=.33},updateGBBlockAccentColors(){n(".wpforms-block.wpforms-container-full, .elementor-widget-wpforms .wpforms-container-full").each(function(){var e=n(this);t.updateGBBlockPageIndicatorColor(e),t.updateGBBlockIconChoicesColor(e),t.updateGBBlockRatingColor(e)})},updateGBBlockPageIndicatorColor(r){var r=r.find(".wpforms-page-indicator"),o=r.find(".wpforms-page-indicator-page-progress, .wpforms-page-indicator-page.active .wpforms-page-indicator-page-number"),i=o.find(".wpforms-page-indicator-page-triangle");r.data("indicator-color","var( --wpforms-page-break-color )"),o.css("background-color","var( --wpforms-page-break-color )"),i.css("border-top-color","var( --wpforms-page-break-color )")},updateGBBlockIconChoicesColor(e){e.find(".wpforms-icon-choices").css("--wpforms-icon-choices-color","var( --wpforms-button-background-color )")},updateGBBlockRatingColor(e){e.find(".wpforms-field-rating-item svg").css("color","var( --wpforms-page-break-color, var( --wpforms-button-background-color ) )")},initPageBreakButtons(){n(".wpforms-page-button").removeClass("wpforms-disabled").attr("aria-disabled","false").attr("aria-describedby","")},combinedUploadsSizeError(e,r,o){var s=r.data("formid"),i=r.attr("aria-errormessage")||"",s=`wpforms-${s}-footer-error`,a=r.find(".wpforms-submit");r.attr({"aria-invalid":"true","aria-errormessage":i+" "+s}),o.attr({role:"alert",id:s}),o.find("> .wpforms-hidden:first-child").remove(),o.prepend(`<span class="wpforms-hidden">${wpforms_settings.formErrorMessagePrefix}</span>`),a.attr("aria-describedby",s)},combinedUploadsSizeOk(e,r,o){console.warn('WARNING! Function "WPForms.FrontendModern( e, $form, $errorCnt )" has been deprecated, please use the new "formSubmitButtonDisable: function( e, $form, $submitBtn )" function instead!'),r.find(".wpforms-submit").removeClass("wpforms-disabled").attr("aria-disabled","false").attr("aria-describedby","")},formSubmitButtonDisable(e,r,o){r=r.attr("id")+"-submit-btn-disabled",o.before(`<div class="wpforms-hidden" id="${r}">${wpforms_settings.submitBtnDisabled}</div>`),o.prop("disabled",!1).addClass("wpforms-disabled").attr("aria-disabled","true").attr("aria-describedby",r)},formSubmitButtonRestore(e,r,o){var i=r.attr("id")+"-submit-btn-disabled";r.find("#"+i).remove(),o.removeClass("wpforms-disabled").attr("aria-disabled","false").attr("aria-describedby","")},disabledButtonPress(e){!n(this).hasClass("wpforms-disabled")||e.key!=="Enter"&&e.type!=="click"||(e.preventDefault(),e.stopPropagation())},pageChange(e,r,o){var i=o.find(".wpforms-page-indicator");if(wpforms_settings.indicatorStepsPattern&&i.length){o=o.find(".wpforms-page").length;let s=wpforms_settings.indicatorStepsPattern,a;s=s.replace("{current}",r).replace("{total}",o),a=i.hasClass("progress")?i.find(".wpforms-page-indicator-page-title").data(`page-${r}-title`):i.find(`.wpforms-page-indicator-page-${r} .wpforms-page-indicator-page-title`).text(),s=a?a+". "+s:s,i.attr("aria-valuenow",r),t.screenReaderAnnounce(s,"polite")}},screenReaderAnnounce(e,r){var o=d.createElement("div"),i="wpforms-screen-reader-announce-"+Date.now();o.setAttribute("id",i),o.setAttribute("aria-live",r||"polite"),o.classList.add("wpforms-screen-reader-announce");const s=d.body.appendChild(o);setTimeout(function(){s.innerHTML=e},100),setTimeout(function(){d.body.removeChild(s)},1e3)},getColorWithOpacity(e,r){return WPFormsUtils.cssColorsUtils.getColorWithOpacity(e,r)},getSolidColor(e){e=e.trim();var r=t.getColorAsRGBArray(e);return r?`rgb(${r[0]},${r[1]},${r[2]})`:e},isValidColor(e){return WPFormsUtils.cssColorsUtils.isValidColor(e)},getColorAsRGBArray(e){return WPFormsUtils.cssColorsUtils.getColorAsRGBArray(e)},getCssVar(e,r){if(!e||typeof e.getPropertyValue!="function")return null;let o=e.getPropertyValue(r).trim();return o=r.includes("color")?o.replace(/\s/g,""):o},getCssVars(r){if(!r||!r.length)return null;var r=r.hasClass("wpforms-container")?r:r.closest(".wpforms-container"),o=getComputedStyle(r.get(0)),i=wpforms_settings.css_vars,s={};for(let a=0;a<i.length;a++)s[i[a]]=t.getCssVar(o,"--wpforms-"+i[a]);return s}};return t}(document,jQuery),WPForms.FrontendModern.init();
