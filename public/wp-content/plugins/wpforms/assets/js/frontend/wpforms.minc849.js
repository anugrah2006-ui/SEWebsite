var wpforms=window.wpforms||(function(u,m,s){const i={cache:{},isUpdatingToken:!1,init(){s(i.ready),s(m).on("load",function(){typeof s.ready.then=="function"?s.ready.then(i.load):i.load()}),i.bindUIActions(),i.bindOptinMonster()},ready(){i.clearUrlQuery(),i.setUserIdentifier(),i.loadValidation(),i.loadHoneypot(),i.loadDatePicker(),i.loadTimePicker(),i.loadInputMask(),i.loadSmartPhoneField(),i.loadPayments(),i.loadMailcheck(),i.loadChoicesJS(),i.initTokenUpdater(),i.restoreSubmitButtonOnEventPersisted(),i.bindSmartPhoneField(),i.bindChoicesJS(),s(".wpforms-randomize").each(function(){for(var e=s(this),t=e.children();t.length;)e.append(t.splice(Math.floor(Math.random()*t.length),1)[0])}),s(".wpforms-page-button").prop("disabled",!1),i.initFormsStartTime(),s(u).trigger("wpformsReady"),s(".wpforms-smart-phone-field").each(function(){i.repairSmartPhoneHiddenField(s(this))})},load(){},clearUrlQuery(){var e=m.location;let t=e.search;t.indexOf("wpforms_form_id=")!==-1&&(t=t.replace(/([&?]wpforms_form_id=[0-9]*$|wpforms_form_id=[0-9]*&|[?&]wpforms_form_id=[0-9]*(?=#))/,""),history.replaceState({},null,e.origin+e.pathname+t))},loadHoneypot(){s(".wpforms-form").each(function(){const e=s(this),t=e.data("formid"),r=[],a=[];var n,o,l,p;wpforms_settings.hn_data[t]!==void 0&&(s(`#wpforms-form-${t} .wpforms-field`).each(function(){var d=s(this);r.push(d.data("field-id")),a.push(d.find(".wpforms-field-label").text())}),n=i.getHoneypotRandomLabel(a.join(" ").split(" ")),o=i.getHoneypotFieldId(r),p=r[Math.floor(Math.random()*r.length)],l=`wpforms-${t}-field_`+o,s(`#wpforms-${t}-field_${p}-container`,e).before(`
						<div id="${l}-container" class="wpforms-field wpforms-field-text" data-field-type="text" data-field-id="${o}" style="position: absolute !important; overflow: hidden !important; display: inline !important; height: 1px !important; width: 1px !important; z-index: -1000 !important; padding: 0 !important;">
							<label class="wpforms-field-label" for="${l}" aria-hidden="true" style="counter-increment: none;">${n}</label>
							<input type="text" id="${l}" class="wpforms-field-medium" name="wpforms[fields][${o}]" aria-hidden="true" style="visibility: hidden;" tabindex="-1">
						</div>`),(p=s(`#wpforms-${t}-field_${wpforms_settings.hn_data[t]}-container`,e)).find("input").attr({tabindex:"-1","aria-hidden":"true"}),p.find("label").attr("aria-hidden","true"))})},getHoneypotRandomLabel(e){let t="";for(let r=0;r<3;r++)t+=e[Math.floor(Math.random()*e.length)]+" ";return t.trim()},getHoneypotFieldId(e){var t=Math.max(...e);let r=0;for(let a=1;a<t;a++)if(!e.includes(a)){r=a;break}return r=r||t+1},loadValidation(){s.fn.validate!==void 0&&(s(".wpforms-input-temp-name").each(function(e,t){var r=Math.floor(9999*Math.random())+1;s(this).attr("name","wpf-temp-"+r)}),s(u).on("change",".wpforms-validate input[type=url]",function(){var e=s(this).val();if(!e)return!1;e.substr(0,7)!=="http://"&&e.substr(0,8)!=="https://"&&s(this).val("https://"+e)}),s.validator.messages.required=wpforms_settings.val_required,s.validator.messages.url=wpforms_settings.val_url,s.validator.messages.email=wpforms_settings.val_email,s.validator.messages.number=wpforms_settings.val_number,s.fn.payment!==void 0&&s.validator.addMethod("creditcard",function(e,t){return e=s.payment.validateCardNumber(e),this.optional(t)||e},wpforms_settings.val_creditcard),s.validator.addMethod("extension",function(e,t,r){return r=typeof r=="string"?r.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+r+")$","i"))},wpforms_settings.val_fileextension),s.validator.addMethod("maxsize",function(e,t,n){var a=n,n=this.optional(t);let o,l;if(n)return n;if(t.files&&t.files.length){for(o=0,l=t.files.length;o<l;o++)if(t.files[o].size>a)return!1}return!0},wpforms_settings.val_filesize),s.validator.addMethod("step",function(e,t,r){o=r;const a=Math.floor(o)!==o&&o.toString().split(".")[1].length||0;function n(l){return Math.round(l*Math.pow(10,a))}var o=n(s(t).attr("min"));return e=n(e)-o,this.optional(t)||n(e)%n(r)==0}),s.validator.methods.email=function(e,t){return this.optional(t)||(function(n){if(typeof n!="string")return!1;var a=n.indexOf("@",1);if(n.length<6||254<n.length||a===-1||n.indexOf("@",a+1)!==-1)return!1;var[a,n]=n.split("@");if(!a||!n||!/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+$/.test(a)||63<a.length||/\.{2,}/.test(n)||n.trim(` 	
\r\0\v.`)!==n||(a=n.split("."),a.length<2))return!1;var o=/^[a-z0-9-]+$/i;for(const l of a)if(63<l.length||l.trim(` 	
\r\0\v-`)!==l||!o.test(l))return!1;return!0})(e)},s.validator.addMethod("restricted-email",function(e,t){var r=s(t);return!r.val().length||(r=r.closest(".wpforms-form").data("formid"),Object.prototype.hasOwnProperty.call(i.cache,r)&&Object.prototype.hasOwnProperty.call(i.cache[r],"restrictedEmailValidation")&&Object.prototype.hasOwnProperty.call(i.cache[r].restrictedEmailValidation,e)?i.cache[r].restrictedEmailValidation[e]:(i.restrictedEmailRequest(t,e),"pending"))},wpforms_settings.val_email_restricted),s.validator.addMethod("confirm",function(e,t,r){return t=s(t).closest(".wpforms-field"),s(t.find("input")[0]).val()===s(t.find("input")[1]).val()},wpforms_settings.val_confirm),s.validator.addMethod("required-payment",function(e,t){return 0<i.amountSanitize(e)},wpforms_settings.val_requiredpayment),s.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},wpforms_settings.val_time12h),s.validator.addMethod("time24h",function(e,t){return this.optional(t)||/^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(\ ?[AP]M)?$/i.test(e)},wpforms_settings.val_time24h),s.validator.addMethod("turnstile",function(e){return e},wpforms_settings.val_turnstile_fail_msg),s.validator.addMethod("time-limit",function(e,r){var r=s(r),a=r.data("min-time");return a===void 0||!(r.prop("required")||!i.empty(e))||(r=r.data("max-time"),i.compareTimesGreaterThan(r,a)?i.compareTimesGreaterThan(e,a)&&i.compareTimesGreaterThan(r,e):i.compareTimesGreaterThan(e,a)&&i.compareTimesGreaterThan(e,r)||i.compareTimesGreaterThan(a,e)&&i.compareTimesGreaterThan(r,e))},function(e,t){t=s(t);let r=t.data("min-time"),a=t.data("max-time");return r=r.replace(/^00:([0-9]{2})pm$/,"12:$1pm"),a=a.replace(/^00:([0-9]{2})pm$/,"12:$1pm"),r=r.replace(/(am|pm)/g," $1").toUpperCase(),a=a.replace(/(am|pm)/g," $1").toUpperCase(),wpforms_settings.val_time_limit.replace("{minTime}",r).replace("{maxTime}",a)}),s.validator.addMethod("check-limit",function(e,r){var r=s(r).closest("ul"),a=parseInt(r.attr("data-choice-limit")||0,10);return a===0||r.find('input[type="checkbox"]:checked').length<=a},function(e,t){return t=parseInt(s(t).closest("ul").attr("data-choice-limit")||0,10),wpforms_settings.val_checklimit.replace("{#}",t)}),m.intlTelInput!==void 0&&s.validator.addMethod("smart-phone-field",function(e,t){var r,a;return!e.match(/[^\d()\-+\s]/)&&(e=(r=m.intlTelInputGlobals)==null?void 0:r.getInstance(t),a=s(t).triggerHandler("validate"),this.optional(t)||(e==null?void 0:e.isValidNumberPrecise())||a)},wpforms_settings.val_phone),s.validator.addMethod("inputmask-incomplete",function(e,t){return e.length===0||s.fn.inputmask===void 0||s(t).inputmask("isComplete")},wpforms_settings.val_inputmask_incomplete),s.validator.addMethod("required-positive-number",function(e,t){return 0<i.amountSanitize(e)},wpforms_settings.val_number_positive),s.validator.addMethod("required-minimum-price",function(e,t,r){return t=s(t),e===""&&!t.hasClass("wpforms-field-required")||Number(i.amountSanitize(i.amountFormat(r)))<=Number(i.amountSanitize(e))},wpforms_settings.val_minimum_price),s.validator.addMethod("us-phone-field",function(e,t){return!e.match(/[^\d()\-+\s]/)&&(this.optional(t)||e.replace(/[^\d]/g,"").length===10)},wpforms_settings.val_phone),s.validator.addMethod("int-phone-field",function(e,t){return!e.match(/[^\d()\-+\s]/)&&(this.optional(t)||0<e.replace(/[^\d]/g,"").length)},wpforms_settings.val_phone),s.validator.addMethod("password-strength",function(e,a){var r=s(a),a=WPFormsPasswordField.passwordStrength(e,a);return e===""&&!r.hasClass("wpforms-field-required")||a>=Number(r.data("password-strength-level"))},wpforms_settings.val_password_strength),s(".wpforms-validate").each(function(){var e=s(this),t=e.data("formid");let r;r=m["wpforms_"+t]!==void 0&&m["wpforms_"+t].hasOwnProperty("validate")?m["wpforms_"+t].validate:typeof wpforms_validate!="undefined"?wpforms_validate:{errorElement:i.isModernMarkupEnabled()?"em":"label",errorClass:"wpforms-error",validClass:"wpforms-valid",ignore:":hidden:not(textarea.wp-editor-area), .wpforms-conditional-hide textarea.wp-editor-area",ignoreTitle:!0,errorPlacement(a,n){i.isLikertScaleField(n)?(n.closest("table").hasClass("single-row")?n.closest(".wpforms-field"):n.closest("tr").find("th")).append(a):i.isWrappedField(n)?n.closest(".wpforms-field").append(a):i.isDateTimeField(n)?i.dateTimeErrorPlacement(n,a):i.isFieldInColumn(n)||i.isFieldHasHint(n)?n.parent().append(a):i.isLeadFormsSelect(n)?n.parent().parent().append(a):n.hasClass("wp-editor-area")?n.parent().parent().parent().append(a):a.insertAfter(n),i.isModernMarkupEnabled()&&a.attr({role:"alert","aria-label":wpforms_settings.errorMessagePrefix,for:""})},highlight(a,n,o){var l=s(a),p=l.closest(".wpforms-field"),d=l.attr("name");(l.attr("type")==="radio"||l.attr("type")==="checkbox"?p.find('input[name="'+d+'"]'):l).addClass(n).removeClass(o),l.attr("type")==="password"&&l.val().trim()===""&&m.WPFormsPasswordField&&l.data("rule-password-strength")&&l.hasClass("wpforms-field-required")&&WPFormsPasswordField.passwordStrength("",a),p.addClass("wpforms-has-error")},unhighlight(l,n,o){var l=s(l),p=l.closest(".wpforms-field"),d=l.attr("name");(l.attr("type")==="radio"||l.attr("type")==="checkbox"?p.find('input[name="'+d+'"]'):l).addClass(o).removeClass(n),p.find(":input.wpforms-error,[data-dz-errormessage]:not(:empty)").length||p.removeClass("wpforms-has-error"),i.isModernMarkupEnabled()&&l.parent().find("em.wpforms-error").remove()},submitHandler(a){function n(l,p){let d="label",f="";i.isModernMarkupEnabled()&&(d="em",f='role="alert"');var c=`<${d} id="wpforms-field_recaptcha-error" class="wpforms-error" ${f}> ${wpforms_settings.val_recaptcha_fail_msg}</${d}>`;l.find(".wpforms-recaptcha-container").append(c),i.restoreSubmitButton(l,p)}function o(){const l=s(a),p=l.closest(".wpforms-container"),d=l.find(".wpforms-submit"),f=d.data("captchaInvalid"),c=d.data("alt-text"),h=d.get(0).recaptchaID;return l.data("token")&&s(".wpforms-token",l).length===0&&s('<input type="hidden" class="wpforms-token" name="wpforms[token]" />').val(l.data("token")).appendTo(l),l.find("#wpforms-field_recaptcha-error").remove(),d.prop("disabled",!0),WPFormsUtils.triggerEvent(l,"wpformsFormSubmitButtonDisable",[l,d]),c&&d.text(c),f?n(l,p):i.empty(h)&&h!==0?(s(".wpforms-input-temp-name").removeAttr("name"),void i.formSubmit(l)):(grecaptcha.execute(h).then(null,function(){grecaptcha.getResponse()||n(l,p)}),!1)}return typeof wpformsRecaptchaV3Execute=="function"?wpformsRecaptchaV3Execute(o):o()},invalidHandler(a,n){n.errorList[0]!==void 0&&i.scrollToError(s(n.errorList[0].element))},onkeyup:WPFormsUtils.debounce(function(a,n){s(a).hasClass("wpforms-novalidate-onkeyup")||n.which===9&&this.elementValue(a)===""||s.inArray(n.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])!==-1||(a.name in this.submitted||a.name in this.invalid)&&this.element(a)},1e3),onfocusout:function(a){let n=!1;s(a).hasClass("wpforms-novalidate-onkeyup")&&!a.value&&(n=!0),this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||(n=!0),(n=s(a).data("server-error")?!1:n)&&this.element(a)},onclick(a){let n=!1;var o=(a||{}).type;let l=s(a);-1<["checkbox","radio"].indexOf(o)&&((l=l.hasClass("wpforms-likert-scale-option")?l.closest("tr"):l.closest(".wpforms-field")).find("label.wpforms-error, em.wpforms-error").remove(),n=!0),n&&this.element(a)}},e.validate(r),i.loadValidationGroups(e)}))},restrictedEmailRequest(e,t){var r=s(e),a=r.closest("form");const n=a.data("validator"),o=a.data("formid");a=r.closest(".wpforms-field").data("field-id"),i.cache[o]=i.cache[o]||{},n.startRequest(e),s.post({url:wpforms_settings.ajaxurl,type:"post",data:{action:"wpforms_restricted_email",form_id:o,field_id:a,email:t},dataType:"json",success(d){var p={},d=d.success&&d.data;d||(p[e.name]=wpforms_settings.val_email_restricted,n.showErrors(p)),i.cache[o].restrictedEmailValidation=i.cache[o].restrictedEmailValidation||[],Object.prototype.hasOwnProperty.call(i.cache[o].restrictedEmailValidation,t)||(i.cache[o].restrictedEmailValidation[t]=d),n.stopRequest(e,d)}})},isFieldInColumn(e){return e.parent().hasClass("wpforms-one-half")||e.parent().hasClass("wpforms-two-fifths")||e.parent().hasClass("wpforms-one-fifth")},isFieldHasHint(e){return 0<e.nextAll(".wpforms-field-sublabel, .wpforms-field-description, .wpforms-field-limit-text, .wpforms-pass-strength-result").length},isDateTimeField(e){return e.hasClass("wpforms-timepicker")||e.hasClass("wpforms-datepicker")||e.is("select")&&e.attr("class").match(/date-month|date-day|date-year/)},isWrappedField(e){return e.attr("type")==="checkbox"||e.attr("type")==="radio"||e.attr("type")==="range"||e.is("select")==="select"||e.data("is-wrapped-field")===1||e.parent().hasClass("iti")||e.hasClass("wpforms-validation-group-member")||e.hasClass("choicesjs-select")||e.hasClass("wpforms-net-promoter-score-option")||e.hasClass("wpforms-field-payment-coupon-input")},isLikertScaleField(e){return e.hasClass("wpforms-likert-scale-option")},isLeadFormsSelect(e){return e.parent().hasClass("wpforms-lead-forms-select")},isCoupon(e){return console.warn('WARNING! Function "wpforms.isCoupon( element )" has been deprecated'),e.closest(".wpforms-field").hasClass("wpforms-field-payment-coupon")},dateTimeErrorPlacement(e,t){var r=e.closest(".wpforms-field-row-block, .wpforms-field-date-time");r.length?r.find("label.wpforms-error, em.wpforms-error").length||r.append(t):e.closest(".wpforms-field").append(t)},loadDatePicker(e){s.fn.flatpickr!==void 0&&(e=e!=null&&e.length?e:s(u)).find(".wpforms-datepicker-wrap").each(function(){const t=s(this),r=t.find("input"),a=t.closest(".wpforms-form"),n=a.data("formid"),o=t.closest(".wpforms-field").data("field-id");let l;var p;!(l=m["wpforms_"+n+"_"+o]!==void 0&&m["wpforms_"+n+"_"+o].hasOwnProperty("datepicker")?m["wpforms_"+n+"_"+o].datepicker:m["wpforms_"+n]!==void 0&&m["wpforms_"+n].hasOwnProperty("datepicker")?m["wpforms_"+n].datepicker:typeof wpforms_datepicker!="undefined"?wpforms_datepicker:{disableMobile:!0}).hasOwnProperty("locale")&&typeof wpforms_settings!="undefined"&&wpforms_settings.hasOwnProperty("locale")&&(l.locale=wpforms_settings.locale),l.wrap=!0,l.dateFormat=r.data("date-format"),r.data("disable-past-dates")===1&&(l.minDate="today",r.data("disable-todays-date")===1)&&(p=new Date,l.minDate=p.setDate(p.getDate()+1));let d=r.data("limit-days");const f=["sun","mon","tue","wed","thu","fri","sat"];d&&d!==""&&(d=d.split(","),l.disable=[function(c){for(const h in d)if(f.indexOf(d[h])===c.getDay())return!1;return!0}]),l.onChange=function(c,h,g){t.find(".wpforms-datepicker-clear").css("display",h===""?"none":"block")},t.flatpickr(l)})},loadTimePicker(e){s.fn.timepicker!==void 0&&(e=e!=null&&e.length?e:s(u)).find(".wpforms-timepicker").each(function(){var t=s(this),r=t.closest(".wpforms-form").data("formid"),a=t.closest(".wpforms-field").data("field-id");let n;n=m["wpforms_"+r+"_"+a]!==void 0&&m["wpforms_"+r+"_"+a].hasOwnProperty("timepicker")?m["wpforms_"+r+"_"+a].timepicker:m["wpforms_"+r]!==void 0&&m["wpforms_"+r].hasOwnProperty("timepicker")?m["wpforms_"+r].timepicker:typeof wpforms_timepicker!="undefined"?wpforms_timepicker:{scrollDefault:"now",forceRoundTime:!0},a=t.val(),t.timepicker(n),a&&(t.val(a),t.trigger("changeTime"))})},loadInputMask(e){s.fn.inputmask!==void 0&&(e=e!=null&&e.length?e:s(u)).find(".wpforms-masked-input").inputmask({rightAlign:!1})},fixPhoneFieldSnippets(e){console.warn("WARNING! Obsolete function called. Function wpforms.fixPhoneFieldSnippets( $field ) has been deprecated, please use the wpforms.repairSmartPhoneHiddenField( $field ) function instead!"),e.siblings('input[type="hidden"]').each(function(){var t;s(this).attr("name").includes("function")&&(t=(t=e.data("plugin_intlTelInput")).d||t.options)&&(m.intlTelInputGlobals.getInstance(e[0]).destroy(),t.initialCountry=t.initialCountry.toLowerCase(),t.onlyCountries=t.onlyCountries.map(r=>r.toLowerCase()),t.preferredCountries=t.preferredCountries.map(r=>r.toLowerCase()),m.intlTelInput(e[0],t),e.siblings('input[type="hidden"]').each(function(){var r=s(this);r.attr("name",r.attr("name").replace("wpf-temp-",""))}))})},repairSmartPhoneHiddenField(e){var t=e.closest(".wpforms-field-phone").data("field-id");if(!s('[name="wpforms[fields]['+t+']"]').length){t=e.data("plugin_intlTelInput");let r=e.val(),a={};t&&(a=t.d||t.options||{},r=t.getNumber(),t.destroy()),e.removeData("plugin_intlTelInput"),e.val(r),i.initSmartPhoneField(e,a)}},getDefaultSmartPhoneFieldOptions(){var e,t={countrySearch:!1,fixDropdownWidth:!1,preferredCountries:["us","gb"],countryListAriaLabel:wpforms_settings.country_list_label};wpforms_settings.gdpr||(t.geoIpLookup=i.currentIpToCountry);let r;if(wpforms_settings.gdpr&&(e=i.mapLanguageToIso(this.getFirstBrowserLanguage()),r=-1<e.indexOf("-")?e.split("-").pop():e),r){let a=m.intlTelInputGlobals.getCountryData();a=a.filter(function(n){return n.iso2===r.toLowerCase()}),r=a.length?r:""}return t.initialCountry=wpforms_settings.gdpr&&r?r.toLowerCase():"auto",t},loadSmartPhoneField(e){m.intlTelInput!==void 0&&(i.loadJqueryIntlTelInput(),(e=e!=null&&e.length?e:s(u)).find(".wpforms-smart-phone-field").each(function(t,r){if(r=s(r),r.parents(".elementor-location-popup").is(":hidden"))return!1;i.initSmartPhoneField(r,{})}))},loadJqueryIntlTelInput(){s.fn.intlTelInput===void 0&&s.fn.extend({intlTelInput(e){var t=s(this);if(e===void 0||typeof e=="object")return t.each(function(){var r,a=s(this);a.data("plugin_intlTelInput")||(r=m.intlTelInput(a.get(0),e),a.data("plugin_intlTelInput",r))});if(typeof e=="string"||e[0]!=="_"){const r=e;let a=this;return t.each(function(){var n=s(this),o=n.data("plugin_intlTelInput");typeof o[r]=="function"&&(a=o[r](),e==="destroy")&&n.removeData("plugin_intlTelInput")}),a}}})},initSmartPhoneField(e,t){if(typeof e.data("plugin_intlTelInput")!="object"){t=0<Object.keys(t).length?t:i.getDefaultSmartPhoneFieldOptions();const r=e.closest(".wpforms-field-phone").data("field-id"),a=(t.hiddenInput=function(){return{phone:"wpforms[fields]["+r+"]"}},t.utilsScript=wpforms_settings.wpforms_plugin_url+"assets/pro/lib/intl-tel-input/module.intl-tel-input-utils.min.js",m.intlTelInput(e.get(0),t));e.on("validate",function(){return a.isValidNumber(a.getNumber())}),e.data("plugin_intlTelInput",a),e.attr("name","wpf-temp-wpforms[fields]["+r+"]"),e.addClass("wpforms-input-temp-name"),e.on("blur input",function(){var n=e.data("plugin_intlTelInput");e.siblings('input[type="hidden"]').val(n.getNumber())})}},bindSmartPhoneField(){s(".wpforms-form").on("wpformsBeforeFormSubmit",function(){var e=s(this).find(".wpforms-smart-phone-field");e.each(function(){i.repairSmartPhoneHiddenField(s(this))}),e.trigger("input")})},loadPayments(){s(".wpforms-payment-total").each(function(e,t){i.amountTotal(this)}),s.fn.payment!==void 0&&(s(".wpforms-field-credit-card-cardnumber").payment("formatCardNumber"),s(".wpforms-field-credit-card-cardcvc").payment("formatCardCVC"))},loadMailcheck(){wpforms_settings.mailcheck_enabled&&s.fn.mailcheck!==void 0&&(0<wpforms_settings.mailcheck_domains.length&&(Mailcheck.defaultDomains=Mailcheck.defaultDomains.concat(wpforms_settings.mailcheck_domains)),0<wpforms_settings.mailcheck_toplevel_domains.length&&(Mailcheck.defaultTopLevelDomains=Mailcheck.defaultTopLevelDomains.concat(wpforms_settings.mailcheck_toplevel_domains)),s(u).on("blur",".wpforms-field-email input",function(){const e=s(this),t=e.attr("id");e.mailcheck({suggested(r,a){a.full=a.full.replace(/%(?![0-9][0-9a-fA-F]+)/g,"%25"),a.address=a.address.replace(/%(?![0-9][0-9a-fA-F]+)/g,"%25"),a.domain=a.domain.replace(/%(?![0-9][0-9a-fA-F]+)/g,"%25"),a.address.match(/^xn--/)&&(a.full=punycode.toUnicode(decodeURI(a.full)),n=a.full.split("@"),a.address=n[0],a.domain=n[1]),a.domain.match(/^xn--/)&&(a.domain=punycode.toUnicode(decodeURI(a.domain)));var n=decodeURI(a.address).replaceAll(/[<>'"()/\\|:;=@%&\s]/gi,"").substr(0,64),o=decodeURI(a.domain).replaceAll(/[<>'"()/\\|:;=@%&+_\s]/gi,"");a='<a href="#" class="mailcheck-suggestion" data-id="'+t+'" title="'+wpforms_settings.val_email_suggestion_title+'">'+n+"@"+o+"</a>",a=wpforms_settings.val_email_suggestion.replace("{suggestion}",a),r.closest(".wpforms-field").find("#"+t+"_suggestion").remove(),r.parent().append('<label class="wpforms-error mailcheck-error" id="'+t+'_suggestion">'+a+"</label>")},empty(){s("#"+t+"_suggestion").remove()}})}),s(u).on("click",".wpforms-field-email .mailcheck-suggestion",function(e){var t=s(this),r=t.closest(".wpforms-field"),a=t.data("id");e.preventDefault(),r.find("#"+a).val(t.text()),t.parent().remove()}))},loadChoicesJS(e){typeof m.Choices=="function"&&(e=e!=null&&e.length?e:s(u)).find(".wpforms-field-select-style-modern .choicesjs-select, .wpforms-field-payment-select .choicesjs-select").each(function(t,r){var a,n,o;s(r).data("choicesjs")||WPFormsUtils.triggerEvent(e,"wpformsBeforeLoadElementChoices",[r]).isDefaultPrevented()||(a=m.wpforms_choicesjs_config||{},n=s(r).data("search-enabled"),o=s(r).data("remove-items-enabled"),a.searchEnabled=n===void 0||n,a.removeItems=o===void 0||o,a.removeItemButton=a.removeItems,a.searchEnabled=n===void 0||n,a.allowHTML=!0,a.callbackOnInit=function(){const l=this,p=s(l.passedElement.element),d=s(l.input.element),f=p.data("size-class");p.removeAttr("hidden").addClass(l.config.classNames.input+"--hidden"),f&&s(l.containerOuter.element).addClass(f),p.prop("multiple")&&(d.data("placeholder",d.attr("placeholder")).css("width","auto"),l.getValue(!0).length&&d.removeAttr("placeholder"),d.css("width","1ch")),p.on("change",function(){p.prop("multiple")&&(l.getValue(!0).length?d.removeAttr("placeholder"):d.attr("placeholder",d.data("placeholder")).css("width","auto"));var c=p.closest("form").data("validator");c&&c.element(p)})},a.callbackOnCreateTemplates=function(){const l=s(this.passedElement.element);return{option(p){var d=Choices.defaults.templates.option.call(this,p);return p.placeholder!==void 0&&p.placeholder===!0&&d.classList.add("placeholder"),l.hasClass("wpforms-payment-price")&&p.customProperties!==void 0&&p.customProperties!==null&&(d.dataset.amount=p.customProperties),d}}},s(r).data("choicesjs",new Choices(r,a)))})},bindChoicesJS(){s(u).on("click",".choices",function(e){var t=s(this),r=t.find("select").data("choicesjs");r&&t.hasClass("is-open")&&(e.target.classList.contains("choices__inner")||e.target.classList.contains("choices__arrow"))&&r.hideDropdown()})},bindUIActions(){var e=s(u);e.on("click",".wpforms-page-button",function(t){t.preventDefault(),i.pagebreakNav(this)}),e.on("change input",".wpforms-payment-price",function(){i.amountTotal(this,!0)}),e.on("change input","select.wpforms-payment-quantity",function(){i.amountTotal(this,!0),i.updateOrderSummaryItemQuantity(s(this))}),e.on("input",".wpforms-payment-user-input",function(){var t=s(this),r=t.val();t.val(r.replace(/[^0-9.,]/g,""))}),e.on("focusout",".wpforms-payment-user-input",function(){var t=s(this),r=t.val();if(!r)return r;r=i.amountSanitize(r),r=i.amountFormat(r),t.val(r)}),e.on("wpformsProcessConditionals",function(t,r){i.amountTotal(r,!0)}),e.on("mouseenter",".wpforms-field-rating-item",function(){s(this).parent().find(".wpforms-field-rating-item").removeClass("selected hover"),s(this).prevAll().addBack().addClass("hover")}).on("mouseleave",".wpforms-field-rating-item",function(){s(this).parent().find(".wpforms-field-rating-item").removeClass("selected hover"),s(this).parent().find("input:checked").parent().prevAll().addBack().addClass("selected")}),s(u).on("change",".wpforms-field-rating-item input",function(){var t=s(this),r=t.closest(".wpforms-field-rating-items").find(".wpforms-field-rating-item");t.focus(),r.removeClass("hover selected"),t.parent().prevAll().addBack().addClass("selected")}),s(function(){s(".wpforms-field-rating-item input:checked").trigger("change")}),e.on("keydown",".wpforms-image-choices-item label",function(t){var r=s(this);if(r.closest(".wpforms-field").hasClass("wpforms-conditional-hide"))return t.preventDefault(),!1;t.keyCode===32&&(r.find("input").trigger("click"),t.preventDefault())}),m.document.documentMode&&e.on("click",".wpforms-image-choices-item img",function(){s(this).closest("label").find("input").trigger("click")}),e.on("change",".wpforms-field-checkbox input, .wpforms-field-radio input, .wpforms-field-payment-multiple input, .wpforms-field-payment-checkbox input, .wpforms-field-gdpr-checkbox input",function(t){var r=s(this);if(r.closest(".wpforms-field").hasClass("wpforms-conditional-hide"))return t.preventDefault(),!1;switch(r.attr("type")){case"radio":r.closest("ul").find("li").removeClass("wpforms-selected").find("input[type=radio]").removeProp("checked"),r.prop("checked",!0).closest("li").addClass("wpforms-selected");break;case"checkbox":r.is(":checked")?(r.closest("li").addClass("wpforms-selected"),r.prop("checked",!0)):(r.closest("li").removeClass("wpforms-selected"),r.prop("checked",!1))}}),e.on("input",".wpforms-field-file-upload",function(){var t=s(this),r=t.closest("form.wpforms-form").find('.wpforms-field-file-upload input:not(".dropzone-input")');let a=0,n=Number(wpforms_settings.post_max_size),o='<div class="wpforms-error-container-post_max_size">'+wpforms_settings.val_post_max_size+"</div>";t=t.closest("form.wpforms-form").find(".wpforms-submit-container");let l=t.find("button.wpforms-submit"),p=t.prev();var d=l.closest("form"),f=d.find(".wpforms-page-next:visible");d.find(".wpforms-page-indicator").length!==0&&f.length!==0&&(l=f),r.each(function(){var c=s(this);let h=0;for(var g=c[0].files.length;h<g;h++)a+=c[0].files[h].size}),a<n?(p.find(".wpforms-error-container-post_max_size").remove(),l.prop("disabled",!1),WPFormsUtils.triggerEvent(d,"wpformsFormSubmitButtonRestore",[d,l]),WPFormsUtils.triggerEvent(d,"wpformsCombinedUploadsSizeOk",[d,p])):(a=Number((a/1048576).toFixed(3)),n=Number((n/1048576).toFixed(3)),o=o.replace(/{totalSize}/,a).replace(/{maxSize}/,n),p.hasClass("wpforms-error-container")?(p.find(".wpforms-error-container-post_max_size").remove(),p.append(o)):(t.before('<div class="wpforms-error-container">{errorMsg}</div>'.replace(/{errorMsg}/,o)),p=t.prev()),l.prop("disabled",!0),WPFormsUtils.triggerEvent(d,"wpformsFormSubmitButtonDisable",[d,l]),WPFormsUtils.triggerEvent(d,"wpformsCombinedUploadsSizeError",[d,p]))}),e.on("change input",".wpforms-field-number-slider input[type=range]",function(t){var r=s(t.target).siblings(".wpforms-field-number-slider-hint");r.html(r.data("hint").replaceAll("{value}","<b>"+t.target.value+"</b>"))}),e.on("keydown",".wpforms-form input",function(t){var r,a;t.keyCode!==13||(a=(r=s(this)).closest(".wpforms-page")).length===0||["text","tel","number","email","url","radio","checkbox"].indexOf(r.attr("type"))<0||(r.hasClass("wpforms-datepicker")&&r.flatpickr("close"),t.preventDefault(),(a.hasClass("last")?a.closest(".wpforms-form").find(".wpforms-submit"):a.find(".wpforms-page-next")).trigger("click"))}),e.on("keypress",".wpforms-field-number input",function(t){return/^[-0-9.]+$/.test(String.fromCharCode(t.keyCode||t.which))}),e.one("input",".wpforms-field input, .wpforms-field textarea, .wpforms-field select",i.formChanged).one("change",".wpforms-field-select-style-modern, .wpforms-timepicker",i.formChanged).one("focus",".dropzone-input",i.formChanged).one("click touchstart",".wpforms-signature-canvas",i.formChanged).one("wpformsRichTextContentChange",i.richTextContentChanged),s("form.wpforms-form").on("wpformsBeforePageChange",i.skipEmptyPages)},skipEmptyPages(e,t,r,a){var n=i.findNonEmptyPage(t,r,a);n!==t&&(e.preventDefault(),n===1&&a==="prev"?(e=r.find(".wpforms-page-2"),a=r.find(".wpforms-page-"+t),t=(e.find(".wpforms-page-prev").length?e:a).find(".wpforms-page-prev"),wpforms.navigateToPage(t,"prev",2,r,e)):(t=r.find(".wpforms-page-"+(a=n-1)),wpforms.navigateToPage(t.find(".wpforms-page-next"),"next",a,r,t)))},findNonEmptyPage(e,t,r){let a=e;for(;i.isEmptyPage(t,a);)r==="prev"?a--:a++;return a},isEmptyPage(e,t){return t!==1&&!(e=e.find(".wpforms-page-"+t)).hasClass("last")&&(t=e.find(".wpforms-field:not(.wpforms-field-pagebreak):not(.wpforms-field-hidden)"),e.find(".wpforms-conditional-hide").length===t.length)},formChanged(e){var t=s(this).closest(".wpforms-form");i.maybeSetStartTime(t)},richTextContentChanged(e,t,r){r=r.getContainer(),r=s(r).closest(".wpforms-form"),i.maybeSetStartTime(r)},initFormsStartTime(){s(".wpforms-form").each(function(){i.maybeSetStartTime(s(this))})},maybeSetStartTime(e){e.data("start_timestamp")||e.data("start_timestamp",i.getTimestampSec())},entryPreviewFieldPageChange(e,t,r){console.warn("WARNING! Obsolete function called. Function wpforms.entryPreviewFieldPageChange has been deprecated, please use the WPFormsEntryPreview.pageChange function instead!"),WPFormsEntryPreview.pageChange(e,t,r)},entryPreviewFieldUpdate(e,t){console.warn("WARNING! Obsolete function called. Function wpforms.entryPreviewFieldUpdate has been deprecated, please use the WPFormsEntryPreview.update function instead!"),WPFormsEntryPreview.update(e,t)},scrollToError(e){if(e.length!==0){let t=e.find(".wpforms-field.wpforms-has-error");(t=t.length===0?e.closest(".wpforms-field"):t).length!==0&&(e=t.offset())!==void 0&&i.animateScrollTop(e.top-75,750).done(function(){var r=t.find(".wpforms-error").first();typeof r.focus=="function"&&r.trigger("focus")})}},pagebreakNav(e){const t=s(e),r=t.data("action"),a=t.data("page"),n=t.closest(".wpforms-form"),o=n.find(".wpforms-page-"+a);i.saveTinyMCE(),r==="next"&&s.fn.validate!==void 0?i.checkForInvalidFields(n,o,function(){i.navigateToPage(t,r,a,n,o)}):r!=="prev"&&r!=="next"||i.navigateToPage(t,r,a,n,o)},checkForInvalidFields(e,t,r){var a=e.data("validator");if(a)if(0<a.pendingRequest)setTimeout(function(){i.checkForInvalidFields(e,t,r)},800);else{let n=!0;t.find(":input").each(function(o,l){var p=s(l);!p.attr("name")||p.hasClass("wpforms-field-skip-validation")||s(l).valid()||(n=!1)}),n?r():i.scrollToError(t)}},navigateToPage(e,t,r,a,n){if(!e.hasClass("wpforms-disabled")){let o=r;t==="next"?o+=1:t==="prev"&&--o,WPFormsUtils.triggerEvent(e,"wpformsBeforePageChange",[o,a,t]).isDefaultPrevented()||(a.find(".wpforms-page").hide(),(r=a.find(".wpforms-page-"+o)).show(),i.toggleReCaptchaAndSubmitDisplay(a,t,r),i.checkTurnstileVisibility(a),(r=i.getPageScroll(a))&&i.animateScrollTop(a.offset().top-r,750,null),e.trigger("wpformsPageChange",[o,a,t]),i.manipulateIndicator(o,a))}},toggleReCaptchaAndSubmitDisplay(n,t,r){var a=n.find(".wpforms-submit-container"),n=n.find(".wpforms-recaptcha-container");t==="next"&&r.hasClass("last")?(n.show(),a.show()):t==="prev"&&(n.hide(),a.hide())},checkTurnstileVisibility(r){var t,r=r.find(".wpforms-recaptcha-container");r.hasClass("wpforms-is-turnstile")&&(t=r.find(".g-recaptcha").height(),parseInt(t,10)===0?r.addClass("wpforms-is-turnstile-invisible"):r.removeClass("wpforms-is-turnstile-invisible"))},getPageScroll(e){return m.wpforms_pageScroll!==!1&&(i.empty(m.wpform_pageScroll)?e.find(".wpforms-page-indicator").data("scroll")!==0&&75:m.wpform_pageScroll)},manipulateIndicator(e,t){var r,a=t.find(".wpforms-page-indicator");a&&((r=a.data("indicator"))==="connector"||r==="circles"?i.manipulateConnectorAndCirclesIndicator(a,r,e):r==="progress"&&i.manipulateProgressIndicator(a,t,e))},manipulateConnectorAndCirclesIndicator(e,t,r){var a=e.data("indicator-color");e.find(".wpforms-page-indicator-page").removeClass("active"),e.find(".wpforms-page-indicator-page-"+r).addClass("active"),e.find(".wpforms-page-indicator-page-number").removeAttr("style"),e.find(".active .wpforms-page-indicator-page-number").css("background-color",a),t==="connector"&&(e.find(".wpforms-page-indicator-page-triangle").removeAttr("style"),e.find(".active .wpforms-page-indicator-page-triangle").css("border-top-color",a))},manipulateProgressIndicator(e,o,r){var a=e.find(".wpforms-page-indicator-page-title"),n=e.find(".wpforms-page-indicator-page-title-sep"),o=r/o.find(".wpforms-page").length*100;e.find(".wpforms-page-indicator-page-progress").css("width",o+"%"),e.find(".wpforms-page-indicator-steps-current").text(r),a.data("page-"+r+"-title")?(a.css("display","inline").text(a.data("page-"+r+"-title")),n.css("display","inline")):(a.css("display","none"),n.css("display","none"))},bindOptinMonster(){u.addEventListener("om.Campaign.load",function(e){i.ready(),i.optinMonsterRecaptchaReset(e.detail.Campaign.data.id)}),u.addEventListener("om.Campaign.afterShow",function(e){typeof WPFormsRepeaterField!="undefined"&&WPFormsRepeaterField.ready()}),s(u).on("OptinMonsterOnShow",function(e,t,r){i.ready(),i.optinMonsterRecaptchaReset(t.optin),typeof WPFormsRepeaterField!="undefined"&&WPFormsRepeaterField.ready()})},optinMonsterRecaptchaReset(t){var t=s("#om-"+t).find(".wpforms-form"),r=t.find(".wpforms-recaptcha-container"),a=t.find(".g-recaptcha");if(t.length&&a.length){const n=a.attr("data-sitekey"),o="recaptcha-"+Date.now(),l=r.hasClass("wpforms-is-hcaptcha")?hcaptcha:grecaptcha;a.remove(),r.prepend('<div class="g-recaptcha" id="'+o+'" data-sitekey="'+n+'"></div>'),l.render(o,{sitekey:n,callback(){wpformsRecaptchaCallback(s("#"+o))}})}},amountTotal(e,t){t=t||!1;const r=s(e),a=r.closest(".wpforms-form"),n=i.amountTotalCalc(a);if(i.allowAmountTotalCalc(a,r,n)){const o=i.amountFormatSymbol(n);a.find(".wpforms-payment-total").each(function(){s(this).attr("type")==="hidden"||s(this).attr("type")==="text"?(s(this).val(o),s(this).attr("type")==="text"&&t&&a.data("validator")&&s(this).valid()):s(this).text(o)}),i.updateOrderSummaryItems(a,r,o)}},allowAmountTotalCalc(a,t,r){var a=a.data("formid");return i.getCache(a,"amountTotal")!==r?(i.updateCache(a,"amountTotal",r),!0):(a=t.prop("type"))==="radio"||a==="select-one"},updateOrderSummaryItems(e,t,r){e.find(".wpforms-order-summary-preview").each(function(){const a=s(this);r!==""&&a.find(".wpforms-order-summary-preview-total .wpforms-order-summary-item-price").text(r),e.find(".wpforms-payment-price").each(function(){i.updateOrderSummaryItem(s(this),a)})})},updateCache(e,t,r){i.cache[e]=i.cache[e]||{},i.cache[e][t]=r},getCache(e,t){return!(!Object.prototype.hasOwnProperty.call(i.cache,e)||!Object.prototype.hasOwnProperty.call(i.cache[e],t))&&i.cache[e][t]},updateOrderSummaryItem(e,t){if(e.hasClass("wpforms-payment-price")){const n=e.closest(".wpforms-field"),o=n.data("field-id"),l=e.prop("type"),p=n.css("display")==="block";var r,a;l==="checkbox"||l==="radio"||l==="select-one"?t.find(`tr[data-field="${o}"]`).each(function(){var d=s(this).data("choice"),d=l==="select-one"?d===parseInt(n.find("select").val(),10):n.find(`input[value="${d}"]`).is(":checked");s(this).toggle(p&&d)}):(r=t.find(`tr[data-field="${o}"]`),a=e.val(),r.find(".wpforms-order-summary-item-price").text(i.amountFormatSymbol(i.amountSanitize(a))),r.toggle(p)),n.hasClass("wpforms-payment-quantities-enabled")?i.updateOrderSummaryItemQuantity(e):(i.updateSummaryPriceWidth(t),i.toggleSummaryPlaceholder(t))}},updateOrderSummaryItemQuantity(e){const t=e.closest(".wpforms-field"),r=t.find("input.wpforms-payment-price, select.wpforms-payment-price"),a=e.closest(".wpforms-form"),n=t.data("field-id"),o=i.getPaymentFieldQuantity(r),l=i.getPaymentFieldAmount(r),p=r.prop("type");a.find(".wpforms-order-summary-preview").each(function(){var d,f=s(this);let c;(c=p==="checkbox"||p==="radio"||p==="select-one"?(d=r.val(),f.find(`tr[data-field="${n}"][data-choice="${d}"]`)):f.find(`tr[data-field="${n}"]`)).toggle(0<o),c.find(".wpforms-order-summary-item-quantity").text(o),c.find(".wpforms-order-summary-item-price").text(i.amountFormatSymbol(l*o)),i.updateSummaryPriceWidth(f),i.toggleSummaryPlaceholder(f)})},updateSummaryPriceWidth(e){var t=Math.max(e.find(".wpforms-order-summary-preview-coupon-total .wpforms-order-summary-item-price").text().length,e.find(".wpforms-order-summary-preview-total .wpforms-order-summary-item-price").text().length+3);e.find(".wpforms-order-summary-item-price").css("width",t+"ch")},toggleSummaryPlaceholder(e){var t=e.find(".wpforms-order-summary-placeholder");let r=!0;e.find(".wpforms-order-summary-field").each(function(){if(s(this).css("display")!=="none")return r=!1}),t.toggle(r)},amountTotalCalc(e){let t=0;s(".wpforms-payment-price",e).each(function(){var n,o=s(this);o.closest(".wpforms-field-payment-single").hasClass("wpforms-conditional-hide")||(n=i.getPaymentFieldAmount(o))&&(t=Number(t)+n*i.getPaymentFieldQuantity(o))});var r=s(u),a=WPFormsUtils.triggerEvent(r,"wpformsAmountTotalCalculate",[e,t]);return t=a.result!==void 0&&0<=a.result?a.result:t,WPFormsUtils.triggerEvent(r,"wpformsAmountTotalCalculated",[e,t]),t},getPaymentFieldAmount(e){var t=e.attr("type");return t==="text"||t==="hidden"?Number(i.amountSanitize(e.val())):t!=="radio"&&t!=="checkbox"||!e.is(":checked")?e.is("select")&&0<e.find("option:selected").length&&e.find("option:selected").data("amount")?Number(i.amountSanitize(e.find("option:selected").data("amount"))):0:Number(i.amountSanitize(e.data("amount")))},getPaymentFieldQuantity(e){return e=e.attr("id"),e=s(`#${e}-quantity`),e.length?Number(e.val()):1},amountSanitize(e){var t=i.getCurrency();return e=e.toString().replace(t.symbol,"").replace(/[^0-9.,]/g,""),t.decimal_sep===","?(t.thousands_sep==="."&&e.indexOf(t.thousands_sep)!==-1?e=e.replace(new RegExp("\\"+t.thousands_sep,"g"),""):t.thousands_sep===""&&e.indexOf(".")!==-1&&(e=e.replace(/\./g,"")),e=e.replace(t.decimal_sep,".")):t.thousands_sep===","&&e.indexOf(t.thousands_sep)!==-1&&(e=e.replace(new RegExp("\\"+t.thousands_sep,"g"),"")),i.numberFormat(e,t.decimals,".","")},amountFormat(e){var t,r=i.getCurrency();return e=String(e),r.decimal_sep===","&&e.indexOf(r.decimal_sep)!==-1&&(t=e.indexOf(r.decimal_sep),e=e.substr(0,t)+"."+e.substr(t+1,e.length-1)),r.thousands_sep===","&&e.indexOf(r.thousands_sep)!==-1&&(e=e.replace(/,/g,"")),i.empty(e)&&(e=0),i.numberFormat(e,r.decimals,r.decimal_sep,r.thousands_sep)},amountFormatSymbol(r){var t=i.getCurrency(),r=i.amountFormat(r);return t.symbol_pos==="left"?t.symbol+r:r+" "+t.symbol},getCurrency(){var e={code:"USD",thousands_sep:",",decimals:2,decimal_sep:".",symbol:"$",symbol_pos:"left"};return wpforms_settings.currency_code!==void 0&&(e.code=wpforms_settings.currency_code),wpforms_settings.currency_thousands!==void 0&&(e.thousands_sep=wpforms_settings.currency_thousands),wpforms_settings.currency_decimals!==void 0&&(e.decimals=wpforms_settings.currency_decimals),wpforms_settings.currency_decimal!==void 0&&(e.decimal_sep=wpforms_settings.currency_decimal),wpforms_settings.currency_symbol!==void 0&&(e.symbol=wpforms_settings.currency_symbol),wpforms_settings.currency_symbol_pos!==void 0&&(e.symbol_pos=wpforms_settings.currency_symbol_pos),e},numberFormat(l,p,f,d){l=(l+"").replace(/[^0-9+\-Ee.]/g,"");var n,o,l=isFinite(+l)?+l:0,p=isFinite(+p)?Math.abs(p):0,d=d===void 0?",":d,f=f===void 0?".":f,c=(p?(c=l,n=p,o=Math.pow(10,n),""+(Math.round(c*o)/o).toFixed(n)):""+Math.round(l)).split(".");return 3<c[0].length&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,d)),(c[1]||"").length<p&&(c[1]=c[1]||"",c[1]+=new Array(p-c[1].length+1).join("0")),c.join(f)},empty(e){var t;let r,a;var n=[void 0,null,!1,0,"","0"];for(a=0,t=n.length;a<t;a++)if(e===n[a])return!0;if(typeof e!="object")return!1;for(r in e)if(e.hasOwnProperty(r))return!1;return!0},setUserIdentifier(){if((!m.hasRequiredConsent&&typeof wpforms_settings!="undefined"&&wpforms_settings.uuid_cookie||m.hasRequiredConsent&&m.hasRequiredConsent())&&!i.getCookie("_wpfuuid")){var e=new Array(36),t="0123456789abcdef";for(let a=0;a<36;a++)e[a]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var r=e.join("");i.createCookie("_wpfuuid",r,3999)}},createCookie(e,t,r){let a="",n="";var o;wpforms_settings.is_ssl&&(n=";secure"),a=r?r===-1?"":((o=new Date).setTime(o.getTime()+24*r*60*60*1e3),";expires="+o.toGMTString()):";expires=Thu, 01 Jan 1970 00:00:01 GMT",u.cookie=e+"="+t+a+";path=/;samesite=strict"+n},getCookie(e){var t=e+"=",r=u.cookie.split(";");for(let a=0;a<r.length;a++){let n=r[a];for(;n.charAt(0)===" ";)n=n.substring(1,n.length);if(n.indexOf(t)===0)return n.substring(t.length,n.length)}return null},removeCookie(e){i.createCookie(e,"",-1)},getFirstBrowserLanguage(){var e=m.navigator,t=["language","browserLanguage","systemLanguage","userLanguage"];let r,a;if(Array.isArray(e.languages)){for(r=0;r<e.languages.length;r++)if((a=e.languages[r])&&a.length)return a}for(r=0;r<t.length;r++)if((a=e[t[r]])&&a.length)return a;return""},mapLanguageToIso(e){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",nl:"nl-NL",no:"nb-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN",zh:"zh-CN"}[e]||e},currentIpToCountry(e){if(wpforms_settings.country)e(wpforms_settings.country);else{const t=function(){s.get("https://ipapi.co/jsonp",function(){},"jsonp").always(function(r){let a=r!=null&&r.country?r.country:"";a||(r=i.getFirstBrowserLanguage(),a=-1<r.indexOf("-")?r.split("-").pop():""),e(a)})};s.get("https://geo.wpforms.com/v3/geolocate/json").done(function(r){r&&r.country_iso?e(r.country_iso):t()}).fail(function(r){t()})}},formSubmit(e){e instanceof jQuery||(e=s(e)),i.saveTinyMCE(),WPFormsUtils.triggerEvent(e,"wpformsBeforeFormSubmit",[e]).isDefaultPrevented()?i.restoreSubmitButton(e,e.closest(".wpforms-container")):e.hasClass("wpforms-ajax-form")&&typeof FormData!="undefined"?i.formSubmitAjax(e):i.formSubmitNormal(e)},restoreSubmitButton(e,t){var r=e.find(".wpforms-submit"),a=r.data("submit-text");a&&r.text(a),r.prop("disabled",!1),WPFormsUtils.triggerEvent(e,"wpformsFormSubmitButtonRestore",[e,r]),t.css("opacity",""),e.find(".wpforms-submit-spinner").hide()},formSubmitNormal(e){var t,r;e.length&&(r=(t=e.find(".wpforms-submit")).get(0).recaptchaID,i.empty(r)&&r!==0||(t.get(0).recaptchaID=!1),e.append('<input type="hidden" name="start_timestamp" value="'+e.data("start_timestamp")+'">'),e.append('<input type="hidden" name="end_timestamp" value="'+i.getTimestampSec()+'">'),e.get(0).submit())},formHasCaptcha(e){return!(!e||!e.length||typeof hcaptcha=="undefined"&&typeof grecaptcha=="undefined"&&typeof turnstile=="undefined")&&(e=e.find(".wpforms-recaptcha-container"),!!e.length)},resetFormRecaptcha(e){if(i.formHasCaptcha(e)){var t=e.find(".wpforms-recaptcha-container");let r,a;r=t.hasClass("wpforms-is-hcaptcha")?hcaptcha:t.hasClass("wpforms-is-turnstile")?turnstile:grecaptcha,a=e.find(".wpforms-submit").get(0).recaptchaID,i.empty(a)&&a!==0&&(a=e.find(".g-recaptcha").data("recaptcha-id")),i.empty(a)&&a!==0||r.reset(a)}},consoleLogAjaxError(e){e?console.error(`WPForms AJAX submit error:
%s`,e):console.error("WPForms AJAX submit error")},displayFormAjaxErrors(e,t){typeof t=="string"?i.displayFormAjaxGeneralErrors(e,t):(t=t&&"errors"in t?t.errors:null,i.empty(t)||i.empty(t.general)&&i.empty(t.field)?i.consoleLogAjaxError():(i.empty(t.general)||i.displayFormAjaxGeneralErrors(e,t.general),i.empty(t.field)||i.displayFormAjaxFieldErrors(e,t.field)))},displayFormAjaxGeneralErrors(e,t){var r,a;e&&e.length&&(i.empty(t)||(i.isModernMarkupEnabled()&&e.attr({"aria-invalid":"true","aria-errormessage":""}),typeof t=="string"?(a=i.isModernMarkupEnabled()?' role="alert"':"",r=i.isModernMarkupEnabled()?`<span class="wpforms-hidden">${wpforms_settings.formErrorMessagePrefix}</span>`:"",e.find(".wpforms-submit-container").before(`<div class="wpforms-error-container"${a}>${r}${t}</div>`),i.setCurrentPage(e,{})):(a=e.data("formid"),i.printGeneralErrors(e,t,a))))},printGeneralErrors(e,t,r){s.each(t,function(a,n){switch(a){case"header":case"header_styled":e.prepend(n);break;case"footer":case"footer_styled":o=n,e.find(".wpforms-page-indicator").length===0?e.find(".wpforms-submit-container").before(o):e.find(".wpforms-page-1").append(o);break;case"recaptcha":o=n,e.find(".wpforms-recaptcha-container").append(o)}var o,l;i.isModernMarkupEnabled()&&(l=e.attr("aria-errormessage")||"",e.attr("aria-errormessage",l+` wpforms-${r}-${a}-error`))}),e.find(".wpforms-error-container").length&&i.animateScrollTop(e.find(".wpforms-error-container").first().offset().top-100)},clearFormAjaxGeneralErrors(e){e.find(".wpforms-error-container").remove(),e.find("#wpforms-field_recaptcha-error").remove(),i.isModernMarkupEnabled()&&e.attr({"aria-invalid":"false","aria-errormessage":""})},displayFormAjaxFieldErrors(e,t){var r;e&&e.length&&(i.empty(t)||(r=e.data("validator"))&&(t=i.splitFieldErrors(t),s.each(t,function(a,n){s('[name="'+a+'"]',e).attr("data-server-error",n)}),r.showErrors(t),i.formHasCaptcha(e)||r.focusInvalid()))},splitFieldErrors:e=>(s.each(e,function(t,r){typeof r!="string"&&s.each(r,function(a,n){var o=t.split("[").pop().replace("]",""),l=t.replace("["+o+"]","");o===a?e[t]=n:typeof a=="string"&&isNaN(a)&&(e[l+"["+a+"]"]=n)})}),e),formSubmitAjax:e=>{if(!e.length)return s.Deferred().reject();const t=e.closest(".wpforms-container"),r=e.find(".wpforms-submit-spinner");let a;t.css("opacity",.6),r.show(),i.clearFormAjaxGeneralErrors(e);var n=new FormData(e.get(0)),n=(n.append("action","wpforms_submit"),n.append("start_timestamp",e.data("start_timestamp")),n.append("end_timestamp",i.getTimestampSec()),{type:"post",dataType:"json",url:wpforms_settings.ajaxurl,data:n,cache:!1,contentType:!1,processData:!1});return n.success=function(o){var l;if(o)if(o.data&&o.data.action_required)e.trigger("wpformsAjaxSubmitActionRequired",o);else if(o.success){if(e.trigger("wpformsAjaxSubmitSuccess",o),o.data)return o.data.redirect_url?(l=o.data.new_tab||!1,e.trigger("wpformsAjaxSubmitBeforeRedirect",o),l?(m.open(o.data.redirect_url,"_blank"),void location.reload()):void(m.location=o.data.redirect_url)):void(o.data.confirmation&&(t.html(o.data.confirmation),a=t.find("div.wpforms-confirmation-scroll"),t.trigger("wpformsAjaxSubmitSuccessConfirmation",o),a.length)&&i.animateScrollTop(a.offset().top-100))}else i.resetFormRecaptcha(e),i.displayFormAjaxErrors(e,o.data),e.trigger("wpformsAjaxSubmitFailed",o),i.setCurrentPage(e,o.data);else i.consoleLogAjaxError()},n.error=function(o,l,p){i.consoleLogAjaxError(p),e.trigger("wpformsAjaxSubmitError",[o,l,p])},n.complete=function(o,l){o.responseJSON&&o.responseJSON.data&&(o.responseJSON.data.action_required||l==="success"&&o.responseJSON.data.redirect_url)||(i.restoreSubmitButton(e,t),e.trigger("wpformsAjaxSubmitCompleted",[o,l]))},WPFormsUtils.triggerEvent(e,"wpformsAjaxBeforeSubmit",[e]).isDefaultPrevented()?(i.restoreSubmitButton(e,t),s.Deferred().reject()):s.ajax(n)},setCurrentPage(e,t){if(e.find(".wpforms-page-indicator").length!==0){const a=[];if(e.find(".wpforms-page").each(function(n,o){if(1<=s(o).find(".wpforms-has-error").length)return a.push(s(o))}),a.length!==0||t.errors===void 0||t.errors.general===void 0||t.errors.general.footer!==void 0||t.errors.general.recaptcha===void 0){var r=0<a.length?a[0]:e.find(".wpforms-page-1");let n,o="prev";r.data("page")===1||t.errors!==void 0&&t.errors.general.footer!==void 0?n=e.find(".wpforms-page-1").next():(n=r.next().length!==0?r.next():r.prev(),o=r.next().length!==0?"prev":"next"),t=n.find(".wpforms-page-next"),r=n.data("page"),i.navigateToPage(t,o,r,e,s(".wpforms-page-"+r))}}},animateScrollTop(e,t,r){return t=t||1e3,r=typeof r=="function"?r:function(){},s("html, body").animate({scrollTop:parseInt(e,10)},{duration:t,complete:r}).promise()},saveTinyMCE(){typeof tinyMCE!="undefined"&&tinyMCE.triggerSave()},isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},compareTimesGreaterThan(e,t){return e=e.replace(/(am|pm)/g," $1").toUpperCase(),t=t.replace(/(am|pm)/g," $1").toUpperCase(),e=Date.parse("01 Jan 2021 "+e),Date.parse("01 Jan 2021 "+t)<=e},isModernMarkupEnabled(){return!!wpforms_settings.isModernMarkupEnabled},initTokenUpdater(){s(".wpforms-form").on("focusin",function(e){var t=s(e.target.closest("form")),r=Date.now();this.needsTokenUpdate(r,t)&&this.updateToken(r,t,e)}.bind(this))},needsTokenUpdate(e,t){return e-1e3*(t.attr("data-token-time")||0)>=1e3*wpforms_settings.token_cache_lifetime&&!this.isUpdatingToken},updateToken(e,t,r){var a=t.data("formid");const n=t.find(".wpforms-submit");this.isUpdatingToken=!0,n.prop("disabled",!0),s.post(wpforms_settings.ajaxurl,{action:"wpforms_get_token",formId:a}).done(function(o){o.success?(t.attr("data-token-time",e),t.attr("data-token",o.data.token),n.prop("disabled",!1),r.target===n[0]&&n.trigger("click")):console.error("Failed to update token: ",o)}).fail(function(o,l,p){console.error("AJAX request failed: ",l,p)}).always(function(){this.isUpdatingToken=!1,n.prop("disabled",!1)}.bind(this))},restoreSubmitButtonOnEventPersisted(){m.onpageshow=function(e){e.persisted&&s(".wpforms-form").each(function(){var t=s(this);i.restoreSubmitButton(t,t.closest(".wpforms-container"))})}},loadValidationGroups(e){var t=e.closest(".wpforms-form").data("validator");t&&s.extend(t.groups,i.getDateTimeValidationGroups(e))},getDateTimeValidationGroups(e){const t={};return e.find(".wpforms-field.wpforms-field-date-time").each(function(){var r=s(this);if(r.find(".wpforms-field-date-dropdown-wrap").length){const a=r.attr("id").replace("-container","");s.each(["month","day","year"],function(n,o){o=s(`#${a}-`+o).attr("name"),t[o]=a})}}),t},getTimestampSec(){return Math.floor(Date.now()/1e3)}};return i})(document,window,jQuery);wpforms.init();
