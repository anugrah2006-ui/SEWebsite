(function(h){var B=function(f,v){var o,t,p,d,m=!1,u=!1,y=!1,i={},M={to:"top",offset:0,effectsOffset:0,parent:!1,classes:{sticky:"sticky",stickyActive:"sticky-active",stickyEffects:"sticky-effects",spacer:"sticky-spacer"},isRTL:!1,handleScrollbarWidth:!1},b=function(s,e,a){var r={},n=s[0].style;a.forEach(function(c){r[c]=n[c]!==void 0?n[c]:""}),s.data("css-backup-"+e,r)},g=function(s,e){return s.data("css-backup-"+e)};const C=()=>{if(d=S(o,"width"),p=o.offset().left,t.isRTL){const s=t.handleScrollbarWidth?window.innerWidth:document.body.offsetWidth;p=Math.max(s-d-p,0)}};var x=function(){i.$spacer=o.clone().addClass(t.classes.spacer).css({visibility:"hidden",transition:"none",animation:"none"}),o.after(i.$spacer)},E=function(){i.$spacer.remove()},W=function(){b(o,"unsticky",["position","width","margin-top","margin-bottom","top","bottom","inset-inline-start"]);const s={position:"fixed",width:d,marginTop:0,marginBottom:0};s[t.to]=t.offset,s[t.to==="top"?"bottom":"top"]="",p&&(s["inset-inline-start"]=p+"px"),o.css(s).addClass(t.classes.stickyActive)},F=function(){o.css(g(o,"unsticky")).removeClass(t.classes.stickyActive)},S=function(s,e,a){var r=getComputedStyle(s[0]),n=parseFloat(r[e]),c=e==="height"?["top","bottom"]:["left","right"],l=[];return r.boxSizing!=="border-box"&&l.push("border","padding"),a&&l.push("margin"),l.forEach(function($){c.forEach(function(T){n+=parseFloat(r[$+"-"+T])})}),n},k=function(s){var e=i.$window.scrollTop(),a=S(s,"height"),r=innerHeight,n=s.offset().top-e,c=n-r;return{top:{fromTop:n,fromBottom:c},bottom:{fromTop:n+a,fromBottom:c+a}}},z=function(){F(),E(),m=!1,o.trigger("sticky:unstick")},w=function(){var s=k(o),e=t.to==="top";if(u)(e?s.top.fromTop>t.offset:s.bottom.fromBottom<-t.offset)&&(i.$parent.css(g(i.$parent,"childNotFollowing")),o.css(g(o,"notFollowing")),u=!1);else{var a=k(i.$parent),r=getComputedStyle(i.$parent[0]),n=parseFloat(r[e?"borderBottomWidth":"borderTopWidth"]),c=e?a.bottom.fromTop-n:a.top.fromBottom+n;(e?c<=s.bottom.fromTop:c>=s.top.fromBottom)&&function(){b(i.$parent,"childNotFollowing",["position"]),i.$parent.css("position","relative"),b(o,"notFollowing",["position","inset-inline-start","top","bottom"]);const l={position:"absolute"};if(p=i.$spacer.position().left,t.isRTL){const $=o.parent().outerWidth(),T=i.$spacer.position().left;d=i.$spacer.outerWidth(),p=Math.max($-d-T,0)}l["inset-inline-start"]=p+"px",l[t.to]="",l[t.to==="top"?"bottom":"top"]=0,o.css(l),u=!0}()}},A=function(){var s,e=t.offset;if(m){var a=k(i.$spacer);s=t.to==="top"?a.top.fromTop-e:-a.bottom.fromBottom-e,t.parent&&w(),s>0&&z()}else{var r=k(o);(s=t.to==="top"?r.top.fromTop-e:-r.bottom.fromBottom-e)<=0&&(C(),x(),W(),m=!0,o.trigger("sticky:stick"),t.parent&&w())}(function(n){y&&-n<t.effectsOffset?(o.removeClass(t.classes.stickyEffects),y=!1):!y&&-n>=t.effectsOffset&&(o.addClass(t.classes.stickyEffects),y=!0)})(s)},R=function(){A()},L=function(){m&&(F(),E(),C(),x(),W(),t.parent&&(u=!1,w()))};this.destroy=function(){m&&z(),i.$window.off("scroll",R).off("resize",L),o.removeClass(t.classes.sticky)},t=jQuery.extend(!0,M,v),o=h(f).addClass(t.classes.sticky),i.$window=h(window),t.parent&&(i.$parent=o.parent(),t.parent!=="parent"&&(i.$parent=i.$parent.closest(t.parent))),i.$window.on({scroll:R,resize:L}),A()};h.fn.sticky=function(f){var v=typeof f=="string";return this.each(function(){var o=h(this);if(v){var t=o.data("sticky");if(!t)throw Error("Trying to perform the `"+f+"` method prior to initialization");if(!t[f])throw ReferenceError("Method `"+f+"` not found in sticky instance");t[f].apply(t,Array.prototype.slice.call(arguments,1)),f==="destroy"&&o.removeData("sticky")}else o.data("sticky",new B(this,f))}),this},window.Sticky=B})(jQuery);
