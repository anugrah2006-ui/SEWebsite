window.addComment=function(c){var u,p,v,m=c.document,o={commentReplyClass:"comment-reply-link",commentReplyTitleId:"reply-title",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},k=c.MutationObserver||c.WebKitMutationObserver||c.MozMutationObserver,N="querySelector"in m&&"addEventListener"in c,D=!!m.documentElement.dataset;function w(){F(),k&&new k(O).observe(m.body,{childList:!0,subtree:!0})}function F(l){if(N&&(u=i(o.cancelReplyId),p=i(o.commentFormId),u)){let d=function(n){if((n.metaKey||n.ctrlKey)&&n.keyCode===13&&m.activeElement.tagName.toLowerCase()!=="a")return p.removeEventListener("keydown",d),n.preventDefault(),p.submit.click(),!1};var t=d;u.addEventListener("touchstart",x),u.addEventListener("click",x),p&&p.addEventListener("keydown",d);for(var a,e=function(n){var f=o.commentReplyClass;return n&&n.childNodes||(n=m),n=m.getElementsByClassName?n.getElementsByClassName(f):n.querySelectorAll("."+f),n}(l),s=0,r=e.length;s<r;s++)(a=e[s]).addEventListener("touchstart",S),a.addEventListener("click",S)}}function x(l){var t,a,e=i(o.temporaryFormId);e&&v&&(i(o.parentIdFieldId).value="0",t=e.textContent,e.parentNode.replaceChild(v,e),this.style.display="none",a=(e=(e=i(o.commentReplyTitleId))&&e.firstChild)&&e.nextSibling,e&&e.nodeType===Node.TEXT_NODE&&t&&(a&&a.nodeName==="A"&&a.id!==o.cancelReplyId&&(a.style.display=""),e.textContent=t),l.preventDefault())}function S(l){var t=i(o.commentReplyTitleId),t=t&&t.firstChild.textContent,d=this,a=C(d,"belowelement"),e=C(d,"commentid"),s=C(d,"respondelement"),r=C(d,"postid"),d=C(d,"replyto")||t;a&&e&&s&&r&&c.addComment.moveForm(a,e,s,r,d)===!1&&l.preventDefault()}function O(l){for(var t=l.length;t--;)if(l[t].addedNodes.length)return void F()}function C(l,t){return D?l.dataset[t]:l.getAttribute("data-"+t)}function i(l){return m.getElementById(l)}return N&&m.readyState!=="loading"?w():N&&c.addEventListener("DOMContentLoaded",w,!1),{init:F,moveForm:function(h,t,b,e,s){var r,d,n,f,L,I,E,h=i(h),b=(v=i(b),i(o.parentIdFieldId)),R=i(o.postIdFieldId),y=i(o.commentReplyTitleId),g=(y=y&&y.firstChild)&&y.nextSibling;if(h&&v&&b){s===void 0&&(s=y&&y.textContent),f=v,L=o.temporaryFormId,I=i(L),E=(E=i(o.commentReplyTitleId))?E.firstChild.textContent:"",I||((I=m.createElement("div")).id=L,I.style.display="none",I.textContent=E,f.parentNode.insertBefore(I,f)),e&&R&&(R.value=e),b.value=t,u.style.display="",h.parentNode.insertBefore(v,h.nextSibling),y&&y.nodeType===Node.TEXT_NODE&&(g&&g.nodeName==="A"&&g.id!==o.cancelReplyId&&(g.style.display="none"),y.textContent=s),u.onclick=function(){return!1};try{for(var T=0;T<p.elements.length;T++)if(r=p.elements[T],d=!1,"getComputedStyle"in c?n=c.getComputedStyle(r):m.documentElement.currentStyle&&(n=r.currentStyle),(r.offsetWidth<=0&&r.offsetHeight<=0||n.visibility==="hidden")&&(d=!0),r.type!=="hidden"&&!r.disabled&&!d){r.focus();break}}catch(B){}return!1}}}}(window);
