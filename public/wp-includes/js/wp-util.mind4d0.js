window.wp=window.wp||{},function(o){var c=typeof _wpUtilSettings=="undefined"?{}:_wpUtilSettings;wp.template=_.memoize(function(e){var t,a={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(r){if(document.getElementById("tmpl-"+e))return(t=t||_.template(o("#tmpl-"+e).html(),a))(r);throw new Error("Template not found: #tmpl-"+e)}}),wp.ajax={settings:c.ajax||{},post:function(e,t){return wp.ajax.send({data:_.isObject(e)?e:_.extend(t||{},{action:e})})},send:function(e,t){var a,r;return _.isObject(e)?t=e:(t=t||{}).data=_.extend(t.data||{},{action:e}),t=_.defaults(t||{},{type:"POST",url:wp.ajax.settings.url,context:this}),(a=(r=o.Deferred(function(s){t.success&&s.done(t.success),t.error&&s.fail(t.error),delete t.success,delete t.error,s.jqXHR=o.ajax(t).done(function(n){var i;n!=="1"&&n!==1||(n={success:!0}),_.isObject(n)&&!_.isUndefined(n.success)?(i=this,s.done(function(){e&&e.data&&e.data.action==="query-attachments"&&s.jqXHR.hasOwnProperty("getResponseHeader")&&s.jqXHR.getResponseHeader("X-WP-Total")?i.totalAttachments=parseInt(s.jqXHR.getResponseHeader("X-WP-Total"),10):i.totalAttachments=0}),s[n.success?"resolveWith":"rejectWith"](this,[n.data])):s.rejectWith(this,[n])}).fail(function(){s.rejectWith(this,arguments)})})).promise()).abort=function(){return r.jqXHR.abort(),this},a}}}(jQuery);
